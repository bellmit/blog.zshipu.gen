---
title: Metabase教程系列-各种可视化元素基本运用
date: 2021-10-26 10:12:00
tags: [BI]
---

### 数字

**数字**选项用于显示单个数字，漂亮又大。数字选项包括：

- **添加字符前缀或后缀**（因此您可以做一些事情，如把一个货币符号在前面或一个百分比在年底），）
- **设置要包含的十进制位置数，**以及
- **将结果乘以数字**（如要将十进制乘以 100，使其看起来像百分比）。如果你想*除*以一个数字，那么只需乘以小数（例如，如果你的结果是，但你希望它显示为，简单地乘以0.01）。`100``1`

![image-20211027093806919](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949147.png)





### 趋势

**趋势**可视化非常适合显示单个数字如何随着时间而变化。要使用此可视化，您需要按时间字段分组一个数字，如创建点的订单计数。趋势将显示最近一个时期的数字值，以及与上一期间的数字相比，数字增加或减少的程度。期间由您的逐组现场决定;如果您按日分组，趋势将显示您与前一天相比的最新一天。

![image-20211027093823177](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949148.png)





默认情况下，趋势将显示为绿色（即"好"）增加，而红色（"坏"）减少。如果您的号码是增加是坏的，并且减少是好的（如反弹率或成本），您可以在可视化设置中扭转此行为：

![image-20211027093839592](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949149.png)





### 进度条

**进度条**用于将单个数字与您设置的目标值进行比较。打开进度栏的设置，为您的目标选择价值，Metabase 将向您展示您的问题当前结果离目标有多远。



![image-20211027093901901](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949150.png)



### 表

**仪表**： 无论情况如何，仪表都允许您在可以指定的一组彩色范围上下文中显示单个数字。默认情况下，当您选择仪表可视化时，Metabase 将为您创建红色、黄色和绿色范围。

![image-20211027093925257](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949151.png)





打开可视化设置以定义您自己的范围，为它们选择颜色，并可选地将标签添加到部分或全部范围：



![image-20211027093941325](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949152.png)



### 表

**表**选项适合查看表格数据 （duh） 或用户或订单等列表。表的可视化选项允许您在正在查看的表中添加、隐藏或重新排列字段，以及修改其格式。

#### 重新排列、添加和删除列



![image-20211027093959463](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949153.png)



打开表的设置，您将看到列选项卡，该选项卡显示当前显示在表中的所有列。下面，您将看到链接表（如果有的话）中添加到当前表视图的更多列列表（ 如果有的话）。

要隐藏列，请单击其上的 X 图标;它会把它发送到**更多列**区域， 以防你想把它带回来。要添加链接的列，只需单击上面的 +图标，该图标将将其带到**可见列**部分。单击并拖动所列列的任何列以重新排列它们显示的顺序。另一种无需打开可视化设置即可重新排列列的超级简单方法是只需单击并拖动列的标题即可将其移动到您希望移动的位置。

> 更改这些选项不会改变实际表本身;这些更改创建一个自定义的表视图，您可以在 Metabase 中保存该表作为**问题**，然后参考，与他人共享，或添加到大屏

#### 列格式化选项

要格式化表中任何列的显示，请单击列标题并选择选项（您也可以在可视化设置的选项卡中单击任何列上的齿轮）。`Formatting``Columns`



![image-20211027094031465](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949154.png)



您看到的选项将因您查看的列类型而异：

**日期**

- **日期风格**为您提供了一堆不同的选择，如何显示日期。
- **日期和月份的缩写名称**，当打开时，将打开的东西喜欢，并。`January``Jan``Monday``Mon`
- **显示时间**可以让你决定是否显示的时间，如果是，如何。您可以包括小时和分钟，以及额外的秒和毫秒。

**数字**

- **显示迷你条形图**将在此列中每个数字旁边显示一个小水平条，以显示其相对于列中其他值的大小。
- **样式**允许您选择以普通数字、百分比、科学符号或货币显示该数字。
- **分离器样式**为您提供了用于区分数字的组合和周期的各种选项。
- **小数位的最小数数**迫使数字显示与这么多小数位。
- **乘以数字**乘以本列中的每个数字，乘以您在此处键入的任何东西。只是不要在这里键入表情符号;它几乎总是导致一个时间漩涡显现。
- **添加前缀/后缀**，即可在每个单元格值之前或之后放置符号、单词或任何东西。

**货币**货币列具有与数字相同的选项，并具有以下选项：

- **货币单位**允许您从任何系统默认值更改货币单位。
- **货币标签样式**允许您在显示货币标签作为符号、代码（如 （USD） 或货币全名之间切换。
- **显示货币单位的位置**允许您在列标题中显示货币标签或在列中的每个单元中切换。

#### 在图表中格式化数据

当我们谈论格式化时，我们认为您也应该知道，您可以访问图表中使用的列的格式化选项。只需打开可视化设置并选择选项卡：`Data`

![image-20211027094058920](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949155.png)





然后单击要格式化的列旁边的齿轮图标。日期、数字和货币往往具有最有用的格式化选项。



![image-20211027094111520](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949156.png)



#### 条件表格式化

有时，当某些行或列遇到特定条件时，在表中突出显示它们是有帮助的。您可以在查看任何表时访问可视化设置，然后单击条件格式化选项卡，从而设置**条件格式化**规则。

![image-20211027094121090](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949157.png)





添加新规则时，您首先需要选择应该受影响的列。您的列可以以两种方式之一进行格式化：

- **单色**。如果要突出显示列中的单元格（如果单元格较大、小于或等于特定数字，或者它们匹配或包含特定单词或短语），则选择单个颜色。您可以可选地突出显示与您选择的条件匹配的单元格的整行，以便在向下滚动表时更容易发现。
- **颜色范围**。如果您想将列中的所有细胞从最小色调为最大细胞，则选择颜色范围，反之亦然。此选项仅适用于数字列。

您可以在桌子上设置尽可能多的规则。如果两个或两个以上的规则相互不同，则规则列表中顶部的规则将获胜。您可以单击并拖动规则以重新排列它们，然后单击规则以编辑它。

#### 旋转表

如果您的表是包含一个数字列和两个分组列的结果，Metabase 也会自动"旋转"您的表，如下面的示例。枢轴取一个列并旋转 90 度（"枢轴"），使其每个值都成为列标题。如果您通过单击齿轮图标打开可视化设置，则可以选择要旋转的列，以防 Metabase 弄错了;或者你也可以完全关闭旋转行为。

![image-20211027094140419](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949158.png)





此自动枢轴不同于我们接下来覆盖的枢轴表可视化。

### 枢轴表

枢轴表允许您交换行和列、组数据，并在表中包含子全文。您可以按一个或多个维度对一个或多个指标进行分组。

目前没有针对元基础中以下数据库的枢轴表：

- 比奎里
- 德鲁伊
- 谷歌分析
- 蒙古德布

枢轴表适用于简单和自定义的问题，并包含所有其他数据的摘要数据库.它们不适用于缺乏聚合数据的问题，也不适用于 SQL 中写的问题，因为 Metabase 需要修改您的 SQL 代码才能计算子总数。如果您真的需要使用 SQL，此处的解决方法是分两个步骤创建您的问题：首先在 SQL 中完成所有您需要完成的复杂事情，将结果保存为问题，然后将保存的 SQL 问题用作总结该数据的新 GUI 问题的起点。

在枢轴表可视化的设置中，您可以将字段分配给三个"存储桶"之一：

- 用于表**行的字段**
- 用于表**列的字**段
- 用于表**值**的字段

假设我们在笔记本编辑器中提出以下问题：



![image-20211027094156531](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949159.png)



从表中，我们总结了订单数量和平均订单总数，并按年分组，按年分装。以下是我们的问题，可视化为支点表：`Orders``User → State``Product → Category``Created At`



![image-20211027094206581](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949160.png)



我们已分配字段和表行，并分配字段生成我们的列：Doohickey、小工具等。我们可以在行和列存储桶之间拖动和下降尺寸，并将聚合添加到表值存储桶中。例如，如果我们为列桶分配一个字段，Metabase 将旋转该字段并将该字段的每个唯一值渲染为列标题。`User → State``Created At``Product -> Category`

您可以将多个字段放入"行"和"列"存储桶中，但请注意，字段的顺序更改了 Metabase 显示表的方式：每个额外的字段将嵌套在以前的字段中。

在有意义的地方，Metabase 将自动包含分组行的子全数据。例如，如上图所示，因为我们先按/然后按） 对行进行分组，Metabase 将每年列出每个行，并汇总该子组的指标。对于在威斯康星州下订单，Metabase 将汇总每个类别的订单数量，并查找威斯康星州每个产品类别的平均年度订单总数。`State``Created At``State`

要在枢轴表上折叠组，您可以单击组标题（或加号 （+）按钮旁边的减号（+）按钮以扩展它。保存支点表时，Metabase 会记住哪些组被扩展和哪些组已折叠。



### 行、条形图和区域图

**线图**最适合显示数字趋势，尤其是当您具有大量 X 轴值时。更多，看看我们的

条形图非常适合显示按类别分组的数字（例如，您按国家/地区拥有的用户数量）。如果 X 轴值较少（如今年每月的订单），则条形图也可用于显示数字。



![image-20211027094227390](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949161.png)





**区域图在**比较两个指标的比例时很有用。可以堆叠条形图和区域图。



![image-20211027094236054](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949162.png)



**趋势线**

**趋势线**是行、区域、条形和散射图的另一个有用的选项。如果您有按时间字段分组的问题，请打开可视化设置并打开切换以显示趋势线。元基础将选择适合您的系列趋势的最佳线类型。如果您在摘要中选择了多个指标，趋势线甚至会起作用。但是，如果您在一个时间字段之外有任何分组，则趋势线将不起作用。`Show trend line`



![image-20211027094251127](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949163.png)



### 组合图

组合图表允许您将条形和行（或区域）组合在同一图表上。



![image-20211027094304356](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949164.png)



元基础将选择您的一个系列作为行显示，另一个显示为酒吧默认。打开可视化设置以更改哪个系列是行、条形或区域，以及更改每个系列设置（如颜色）。单击系列右侧的向下箭头图标以查看其他选项：



![image-20211027094314890](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949165.png)



要使用组合图，您需要在问题"按分列"的"总结"部分中选择两个或多个指标，并配有一个或两个分组列，如下所示：



![image-20211027094328628](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949166.png)



或者，您需要一个单一指标和两个分组列的问题，如：



![image-20211027094343185](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949167.png)



### 行图

如果您试图按具有大量可能值的列（如供应商或产品标题字段）对数字进行分组，请尝试将其可视化为**行图**。Metabase 将按大小的下降顺序向您展示条形，对于不适合的物品，最后一个条形在底部。



![image-20211027094359522](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949168.png)



#### 直方图

如果您有一个条形图，如按年龄计算的用户计数，其中 x 轴是一个数字，您将获得一种称为直方图，每个条形表示一系列值（称为"bin"）。请注意，即使您没有查看条形图，但每次将数字用作分组时，Metabase 都会自动将结果放箱。使用经纬度的问题也会自动被装箱。



![image-20211027094410130](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949169.png)



默认情况下，Metabase 会自动选择将结果装箱的好方法。但是，您可以通过单击您正在分组的列右侧的区域来更改结果有多少个垃圾箱，或者完全关闭垃圾箱：



![image-20211027094423627](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949170.png)



#### 线路、条形图和区域图选项

这三种图表类型具有非常相似的选项，可分为以下选项：

**数据**

在这里，您可以选择要绘制在 x 和 y 轴上的列。如果您的表或结果集包含两个以上的列，如尝试从未聚合的表中绘制字段，则这一点最有用。您还可以通过单击 y 轴下落下下方的链接将其他指标添加到图表中，或者通过单击 x 轴下下方的链接（请注意，如果您有多个指标/系列，则无法添加额外的系列突破）。`Add another series``Add a series breakout`

**显示**

在这个选项卡中您可以做很多工作，但可用的选项将取决于图表中的数据。

- **设置图表上系列的颜色和标签**。
- **更改行和区域图表的行的样式**，并选择是否在行上显示点。
- **指定如何处理缺失的值**。使用"用..."替换缺失的值设置以更改图表处理缺失值的处理方式。您可以使用线性插值，或将这些点显示为零或无。
- **添加目标线**。目标线可以与告警当您的指标越过此行时，发送电子邮件或 Slack 消息。
- **添加趋势线**。如果您正在查看时间系列图表，您可以打开趋势线以显示事情走向。
- **显示数据点上的值**。默认设置将尝试并适合图表上的尽可能多的值，但您也可以强制 Metabase 显示每个数据点的值，而每个数据点都会不情愿地显示这些值。显示值也适用于多系列图表，但请注意，添加的数据点越多，图表的值就越拥挤。

**轴**

配置轴有三种主要方法：

- **更改轴的刻度**。如果您正在查看时间系列图表，则 X 轴可以使用时间系列刻度或普通刻度。使用"Timeseries"时，它始终以上升顺序显示，因此最古老到最新，而"序号"将按返回数据的顺序显示。您的 y 轴可以使用线性、功率或对数级。
- **隐藏或显示轴上的滴答声标记**。您也可以选择旋转 x 轴上的滴答声标记，以帮助它们更好地适应。
- **编辑您的 y 轴的范围**。默认情况下，Metabase 会设置一个自动范围，但如果您愿意，您可以切换该范围并输入 y 轴的自定义最小值和最大值。

**标签**

在这里，您可以选择隐藏 x 或 y 轴**的标签**。您也可以在这里为轴标签自定义文本。

### 瀑布图

瀑布图是一种条形图，可用于可视化包含正值和负值的结果。瀑布图上的每个条显示增加或减少，图表右侧的最终条形表示总值。

![image-20211027094436584](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949172.png)



在上面的示例中，瀑布图显示每个"产品"的"利润"：苹果、香蕉、橙子、桃子和芒果。从左到右，每个条形图表示总的变化。带有绿色条的产品表示正值（它们盈利）。然而，桃子损失了钱，用红条表示，这表示负值。末尾的条形图显示了所有产品的总利润。您可以在每个条上显示值，并更改颜色以增加和减少。

对于瀑布图表，您需要一个按单个维度分组的单个指标的查询：按时间或类别分组。

### 散射图和气泡图

**散射图**可用于可视化两个变量之间的相关性，例如比较用户的年龄和他们在产品上花费了多少美元。要使用散射图，您需要问一个问题，导致两个数字列，如 。或者，您可以使用原始数据表并选择要在图表选项中使用的两个数字字段。`Count of Orders grouped by Customer Age`

如果你有第三个数字字段，你也可以创建一个**气泡图**。选择散射可视化，然后打开图表设置，并在**气泡大小**下降中选择字段。此字段将用于确定图表上每个气泡的大小。例如，您可以使用包含每个 x-y 对的总美元金额的字段，即较大的气泡，用于用于订单的较大美元总金额。

散射图和气泡图也有类似的图表选项，如线、条形图和区域图，包括显示趋势或目标线的选项。



![image-20211027094448683](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949173.png)



### 馅饼或甜甜圈图表

按单个维度分解指标时，可以使用**饼图或甜甜圈图**，尤其是当可能突破次数少时，如按性别分化的用户。如果您有多个突破，如每个国家的用户，通常最好使用条形图，以便您的用户能够更轻松地比较每个条形图的相对大小。

饼图选项允许您选择使用哪个字段作为测量，以及用于哪个字段（即饼片）。您还可以自定义每个切片的颜色、饼图的图例、是否在图例中显示每个切片占整体的百分比，以及切片的最小尺寸，以便 Metabase 显示它。



![image-20211027094500101](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949174.png)



### 漏斗

**漏斗**通常用于电子商务或销售，用于可视化结账流程或销售周期中每个步骤中有多少客户。最一般情况下，漏斗显示按步骤分解的值，以及每个连续步骤之间的百分比减少。要在 Metabase 中创建一个漏斗，您需要有一个至少包含两列的表：一个列包含您感兴趣的指标，另一个列包含漏斗的步骤。

例如，我可能有一个机会表，我可以创建一个问题，让我的销售线索的数量爆发的领域，其中包括阶段，如，，，，和。在此示例中，沿 x 轴显示的百分比告诉您在随后的每个步骤中，总启动机会的百分比仍然存在：因此， 18.89% 的机会已经使它一路被关闭的交易。每个百分比以下的数字是该步骤中计数的实际值 - 在我们示例中，当前每个步骤中的实际机会数。这些数字一起帮助您找出您正在失去客户或用户的位置。`Prospecting``Qualification``Proposal``Negotiation``Closed`



![image-20211027094510080](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949175.png)



### 地图

当您选择**地图**可视化设置时，Metabase 将自动尝试根据表或结果集选择最佳类型的地图使用。以下是元基础使用的地图：

- **美国地图**。从数据创建美国地图需要您的结果包含包含州名称或两个字母的状态代码的列。这可以让你做一些事情，比如可视化按状态分出的用户数量，而较暗的状态代表更多的用户。
- **世界地图**。要以按国家分列的世界地图格式可视化您的结果，您的结果必须包含带有两个字母的国家代码的列。（例如，按国家/地区计算的用户数量。



![image-20211027094521887](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949176.png)



- **针图**。如果您的结果包含经纬度场，元基础将尝试将结果作为世界针图显示。根据纬度和经度字段，Metabase 将在表中每行的地图上放置一个引脚。您可以使用 Metabase 中包含的示例数据集试用此内容：启动新问题并选择"人员"表，用于查看，并为您的可视化选择"地图"选项。您将看到一张世界地图，每个点都表示"人表"中一个人的经纬坐标。`raw data`



![image-20211027094533391](https://cdn.jsdelivr.net/gh/zshipu/images/202110270949177.png)



打开地图选项时，您可以手动在区域地图（例如美国）和引脚地图之间切换。如果您使用区域地图，您还可以选择用作测量的字段，以及用作区域（例如状态或国家/地区）的哪个字段。

